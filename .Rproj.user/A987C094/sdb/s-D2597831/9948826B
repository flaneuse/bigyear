{
    "collab_server" : "",
    "contents" : "source('~/GitHub/llamar/themes_ldh.r')\n\n# Read in data ------------------------------------------------------------\nurl = 'https://docs.google.com/spreadsheets/d/1RWZuaNEqARhlfzXK-ZvKhm3RwNSFpirFXfSRnuFB25o/pub?output=csv'\n# Note: sheet must be published to the web for connection to work.\n\nbigyearWS = url %>% gs_url(visibility = 'private')\n\nmj = bigyearWS %>% \n  gs_read(ws = 1) %>% \n  mutate(team = 'Michael and Jing')\n\nnr = bigyearWS %>% \n  gs_read(ws = 2) %>% \n  mutate(team = 'Nancy and Rich')\n\nl = bigyearWS %>% \n  gs_read(ws = 3) %>% \n  mutate(team = 'Laura')\n\n\n# Clean up the data -------------------------------------------------------\n# Merge datasets together\nby = bind_rows(mj, nr, l) %>% \n  transmute(team = team,\n            species = str_to_title(Species), # Strip out upper case chars\n            species = str_trim(species), # Trim extra spaces, if they exist\n            sex = `Sex..if.known.`,\n            location = str_to_lower(Location),\n            state = str_to_upper(State),\n            loc = paste(location, state),\n            date = Date)\n\nby = left_join(by, birdDB, by = c(\"species\" = \"commonName\"))\n# Convert places to GPS coords.\ngps = geocode(by$loc, output = 'latlona')\n\n# Displace data from houses.\n\n# Fix weird geocoords & merge into\n# Check states are states.\n# Check birds are unique\n\n# Count unique species ----------------------------------------------------\ncumBirds = by %>% \n  count(team, date) %>% \n  mutate(numBirds = cumsum(n))\n\nggplot(cumBirds, aes(x = date, y = numBirds, \n                     group = team, colour = team)) +\n  geom_point()\n",
    "created" : 1451164782859.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1182648505",
    "id" : "9948826B",
    "lastKnownWriteTime" : 1451344577,
    "last_content_update" : 1451344577895,
    "path" : "~/GitHub/bigyear/importBYdata.R",
    "project_path" : "importBYdata.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}